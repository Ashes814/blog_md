# 【GIS开发日记】第1期：Cesium面试题01

> *分享GIS开发面经八股，GIS基础（地图投影，空间分析，矢量栅格，地图算法），前端（HTML，CSS，JS/TS，React），开源地图库（Leaflet，Openlayers，Cesium），服务端（JAVA SE，GeoServer），数据库（MySQL，PostgreSQL，PostGIS，MongoDB）等面试技能*
> 

**写在开头：***芝兰生于深谷，不以无人而不芳。君子修身养德，不以穷困而改志。（纪念因突发心梗辞世的资深技术专家陈浩老师，向每一位不惧辛劳的技术人致敬）*

![Untitled](%E3%80%90GIS%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%E3%80%91%E7%AC%AC1%E6%9C%9F%EF%BC%9ACesium%E9%9D%A2%E8%AF%95%E9%A2%9801%20d16c56ee8db640efa99606a236ff418e/Untitled.png)

# [Cesium面试题](https://www.jianshu.com/p/a60da4652c14)

# 1.Cesium是什么

- 官网定义：****The Platform for 3D Geospatial - Cesium is the open platform for software applications designed to unleash the power of 3D data.****
    - Cesium 是一个跨平台，跨浏览器的展示三位地球和地图的`javascript`库
    - Cesium使用`WebGL`来进行硬件加速图形，使用时不需要任何插件支持，但是浏览器必须支持`WebGL`
    
    > WebGL（Web Graphics Library）是一种JavaScript API，用于在网页浏览器中呈现交互式3D和2D图形。它基于OpenGL ES 2.0标准，并提供了一种在浏览器中使用图形硬件的方式，以加速3D图形渲染。WebGL提供了一种直接在HTML和JavaScript中编写GPU加速图形的方式，使得浏览器能够呈现高质量的交互式3D场景和视觉效果。它可以与HTML、CSS和JavaScript等其他网页技术结合使用，为开发人员提供了一种强大的工具，用于创建具有高度互动性和可视化效果的动态Web应用程序和游戏。使用WebGL需要一定的图形编程和计算机图形学知识，但有许多框架和库可以帮助简化WebGL应用程序的开发过程。WebGL的主要优点是跨平台兼容性、高性能渲染和实时互动性，它已成为现代Web应用程序中不可或缺的技术之一。
    > 
    - Cesium时基于`Apache2.0`许可的开源程序，它可以免费的用于商业和非商业用途
        
        > `Apache2.0:`
        > 
        > 
        > Apache License 2.0是一种广泛使用的开源软件许可证，可用于授权各种类型的软件。它由Apache软件基金会创建，是许多开源软件项目所采用的许可证之一，包括Apache HTTP服务器、Apache Tomcat和Android操作系统等。
        > 
        > Apache License 2.0许可证是一种宽松的许可证，它允许用户自由使用、复制、修改和分发软件，甚至可以将它用于商业用途。许可证还包括对软件质量的保证和免责声明。
        > 
        > 根据Apache License 2.0，任何人都可以自由地使用被授权的软件，只需遵循一些基本要求，例如在任何分发中包含许可证和版权声明。此外，Apache License 2.0还包括了一些特殊条款，如专利许可条款，以保护贡献者和用户的权益。
        > 
    - 一句话总结 - Cesium：3D开源地图库，WebGL，跨平台

# 2.Cesium支持哪些数据格式

- 影像数据
    - `Bing`
        
        > Bing影像数据是由微软公司提供的一组卫星图像和航空照片，用于创建地图和提供地理信息服务。这些数据包括全球各地的高分辨率图像，其中许多图像分辨率高达30厘米/像素。Bing影像数据还包括大量的卫星图像和航空照片，以及人工识别和注释的各种地理要素，如建筑物、道路、河流和边界等。Bing影像数据的主要用途是为在线地图和地理信息系统（GIS）提供背景图像，以帮助用户理解和分析地理空间数据。这些数据可以用于许多应用程序，如城市规划、土地利用规划、环境监测、军事情报等。Bing影像数据还可以与其他地理数据源（如卫星高程数据、行政边界数据等）结合使用，以创建更复杂的地理信息系统和地图应用程序。Bing影像数据可以通过Bing Maps API或其他第三方地图API来访问，并可以在各种Web应用程序和移动应用程序中使用。微软还提供了一个在线地图编辑器Bing Maps Studio，允许开发人员创建自定义地图，并集成Bing影像数据以提供高质量的背景图像。
        > 
    - `天地图`
        
        > 天地图是由中国国家测绘地理信息局和国家地理信息公共服务平台开发的一组数字地图产品，为公众和企业用户提供地图服务。天地图产品包括基础地图、卫星图像、影像地图、交通地图、地形图、历史地图等多个类型，其中基础地图是最常用的类型，包括全国各级行政区划、地形、水系、交通等信息。天地图的特点是准确、全面、实时和免费。它提供的地图数据来自中国国家测绘地理信息局、国家气象局、交通运输部等多个政府部门和机构，确保了数据的权威性和可靠性。此外，天地图还提供了多种应用程序接口（API）和软件开发工具包（SDK），以方便开发人员在自己的应用程序中集成天地图数据和功能。天地图在多个领域得到了广泛应用，如地理信息系统（GIS）、物流管理、公共安全、旅游、环境监测等。它还为政府部门、企业和公众提供了一种开放的地理信息共享平台，促进了地理信息资源的共享和交流，为社会发展和经济建设做出了贡献。
        > 
    - `ArcGIS`
    - `OSM`
        
        > OSM是指“OpenStreetMap”，是一个基于地理位置信息的开放性协作项目，旨在创建和提供免费、可自由编辑的地图数据。OpenStreetMap的地图数据是由志愿者从全球各地收集、编辑和更新的，并以开放许可证的形式发布，可以自由下载、使用和分享。OSM的地图数据包括街道、公共设施、自然地理特征等信息，可以用于导航、地图制作、地理分析和其他应用。与商业地图服务不同，OSM的数据是免费的，也没有使用限制，可以在任何应用程序中使用。此外，由于OSM的数据是由志愿者创建和维护的，因此数据的准确性和更新速度也取决于社区的参与度。OSM的地图编辑工具是开放的，任何人都可以使用这些工具来编辑地图数据。OSM社区还提供了大量的文档和教程，以帮助新手开始编辑地图。OSM的地图数据可以通过API、下载、导出等方式获取，也可以通过多种工具和平台使用，如QGIS、Mapbox、Leaflet等。总之，OSM是一个开放的地图数据项目，由全球社区共同维护，为个人和组织提供了一个免费、可自由编辑的地图数据资源。
        > 
    - `WMTS`
        
        > WMTS是Web地图瓦片服务（Web Map Tile Service）的缩写，是一种用于动态地图服务的开放标准。WMTS可以将大规模的地图数据切割成小的瓦片，并以网络方式提供给用户，以便在Web应用程序中快速加载和显示地图数据。WMTS是一个基于RESTful架构的服务，使用HTTP协议进行通信。它通过使用标准的URL请求和返回数据来实现对地图数据的访问，同时使用瓦片标识符（Tile Identifier）来标识每个瓦片的位置和缩放级别。WMTS支持多种坐标系和投影方式，可以使用标准的地理信息系统工具来生成和处理地图数据。WMTS的优势在于能够快速加载大量的地图数据，从而实现流畅的用户体验。与传统的动态地图服务相比，WMTS能够更好地支持跨平台和跨设备的应用程序，并且减少了对网络带宽的依赖。WMTS还可以与其他Web服务和应用程序集成，例如GIS软件、数据仓库和分析工具等，以实现更复杂的地图应用程序。总之，WMTS是一种用于动态地图服务的开放标准，可以将大规模的地图数据切割成小的瓦片，并以网络方式提供给用户。它使用标准的URL请求和返回数据来实现对地图数据的访问，并支持多种坐标系和投影方式，是Web地图应用程序中常用的技术之一。
        > 
    - `WMS`
        
        > WMS是Web地图服务（Web Map Service）的缩写，是一种用于动态地图服务的开放标准。WMS可以将大规模的地图数据以Web方式提供给用户，使得用户可以通过Web浏览器和其他Web应用程序来访问地图数据。WMS是一个基于RESTful架构的服务，使用HTTP协议进行通信。它通过使用标准的URL请求和返回数据来实现对地图数据的访问，同时使用地图标识符（Map Identifier）来标识每个地图的位置和缩放级别。WMS支持多种坐标系和投影方式，可以使用标准的地理信息系统工具来生成和处理地图数据。与WMTS不同，WMS并不直接提供地图瓦片，而是在请求时动态生成图像，并将其作为Web页面或应用程序的一部分返回给用户。这意味着WMS可以提供高度个性化的地图服务，并支持多个数据源和复杂的地图样式。但是，由于每次请求都需要动态生成图像，因此WMS的性能可能会受到影响，特别是在大规模的应用程序中。总之，WMS是一种用于动态地图服务的开放标准，可以将大规模的地图数据以Web方式提供给用户，并支持多种坐标系和投影方式。它通过动态生成图像来实现高度个性化的地图服务，并支持多个数据源和复杂的地图样式。与WMTS不同，WMS的性能可能会受到影响，特别是在大规模的应用程序中。
        > 
- 地形数据
    - `ArcGIS`
    - `谷歌`
    - `STK`
        
        > STK（Systems Tool Kit）地形数据是指由Analytical Graphics Inc.（AGI）开发的一套用于地球表面建模和分析的地形数据集。该数据集包括高分辨率的数字地形模型（Digital Elevation Models，DEM）、卫星图像、遥感数据、建筑物和其他地理信息数据，可以用于各种应用程序中，如飞行仿真、导航、遥感等。STK地形数据的特点是高精度、高分辨率和全球覆盖。它使用多源数据进行融合，包括地面勘测、卫星测绘、遥感技术和地形数据交换标准（Terrain Data Exchange Standard，TDEX）。这些数据源经过处理和整合，形成了一张高度准确、细节丰富的全球地形数据集，可以用于实现高度精细的地球表面建模和仿真。STK地形数据还包括各种派生数据集，如地形特征、建筑物、城市场景、噪声场、风场等。这些数据可以帮助用户在仿真和分析中更准确地模拟真实环境，并提高模拟的真实感和可信度。总之，STK地形数据是一套高精度、高分辨率、全球覆盖的数字地形模型，可以用于各种应用程序中，如飞行仿真、导航、遥感等。它使用多源数据进行融合，并包括各种派生数据集，可以帮助用户实现高度精细的地球表面建模和仿真。
        > 
- 矢量数据
    - `KML`
        
        > KML（Keyhole Markup Language）是一种用于描述地理信息的标记语言，由Google公司开发并作为开放标准发布。KML可以描述点、线、面、文本标签、图像覆盖物等地理要素，以及相应的样式和属性信息。KML还支持时间、高度、视角、扩展数据等元素，可以用于实现高度个性化的地图展示和数据可视化。KML主要用于Google地球和Google地图等应用程序中，可以将地理信息以可视化的形式呈现在地图上，并支持多种交互方式，如平移、缩放、旋转等。KML可以与各种GIS软件和Web地图服务集成使用，也可以通过网络共享和发布地理信息。KML的格式比较简单，基于XML语法，易于生成和解析。KML可以使用Google Earth、Google Maps、ArcGIS等GIS软件来创建和编辑，也可以使用文本编辑器手工编写。KML还支持使用KMZ格式进行压缩和打包，可以方便地共享和传输地理信息。总之，KML是一种用于描述地理信息的标记语言，可以描述地理要素、样式、属性、时间、高度、视角、扩展数据等元素，并可以用于实现高度个性化的地图展示和数据可视化。KML主要用于Google地球和Google地图等应用程序中，可以与各种GIS软件和Web地图服务集成使用，易于生成和解析，并支持使用KMZ格式进行压缩和打包。
        > 
    - `KMZ`
        
        > KML文件的压缩形式
        > 
    - `GeoJSON`
        
        > GeoJSON是一种基于JSON格式的地理数据交换标准，用于描述地理要素、坐标系、属性等地理信息。GeoJSON的全称是Geographic JavaScript Object Notation，由于其简洁性和易于解析，成为了Web地图应用中常用的一种数据格式。GeoJSON可以描述点、线、面等地理要素，并可以指定它们的坐标系、属性和样式信息。GeoJSON还支持几何集合、特征集合、CRS、bbox等元素，用于实现更加丰富的地图数据表示和可视化。GeoJSON的语法规范和数据结构比较简单，易于理解和生成，同时也可以通过多种GIS软件进行编辑和转换。GeoJSON格式可以通过HTTP协议进行传输和加载，在Web地图应用中可以与OpenLayers、Leaflet、Mapbox等地图库和API进行集成使用。GeoJSON数据还可以通过各种GIS软件和Web服务进行查询、分析和可视化，为地理信息系统的开发和应用提供了便利。总之，GeoJSON是一种基于JSON格式的地理数据交换标准，用于描述地理要素、坐标系、属性等地理信息。GeoJSON的语法规范和数据结构简单易懂，支持点、线、面等地理要素，并可以指定它们的样式、属性和坐标系信息。GeoJSON在Web地图应用中广泛应用，可以与各种地图库和API进行集成使用。
        > 
    - `TopoJSON`
        
        > TopoJSON是一种基于JSON格式的地图数据压缩和简化格式，用于描述地理要素、拓扑关系和属性等地理信息。TopoJSON的全称是Topology JSON，由于其可以有效压缩地图数据、减少带宽和存储需求，同时可以快速绘制复杂地图，成为了Web地图应用中常用的一种数据格式。TopoJSON与GeoJSON类似，但是在描述地图要素时使用了拓扑关系，这意味着相邻的地图要素只会被保存一次，并且可以通过共享节点来减少数据大小。TopoJSON还可以通过属性简化和精简算法，去除地图数据中的冗余部分和细节信息，从而进一步减小数据大小和提高绘图效率。TopoJSON可以描述点、线、面等地理要素，并可以指定它们的属性、拓扑关系和坐标系信息。TopoJSON还支持多层数据、缩放级别、属性筛选等元素，可以实现更加丰富的地图数据表示和可视化。TopoJSON数据可以通过HTTP协议进行传输和加载，在Web地图应用中可以与D3.js、TopoJSON.js等库和API进行集成使用。总之，TopoJSON是一种基于JSON格式的地图数据压缩和简化格式，可以有效压缩地图数据、减少带宽和存储需求，并可以快速绘制复杂地图。TopoJSON与GeoJSON类似，但是使用了拓扑关系来描述地图要素，并支持属性简化和精简算法，可以去除地图数据中的冗余部分和细节信息。TopoJSON在Web地图应用中广泛应用，可以与D3.js、TopoJSON.js等库和API进行集成使用。
        > 
    - `CZML`
        
        > CZML是一种基于JSON格式的地理数据交换标准，用于描述三维场景、模型、传感器和时间等地理信息。CZML的全称是Cesium Language，是一种开放标准，由Cesium开发团队提出并维护，主要用于描述三维地图、虚拟地球和航天器轨迹等场景。CZML可以描述三维模型、图像、传感器等场景要素，并可以指定它们的位置、姿态、尺寸、颜色和纹理等属性。CZML还支持时间轴、事件触发、动画效果、相机控制等功能，可以实现更加丰富的三维场景可视化和交互。CZML数据可以通过HTTP协议进行传输和加载，在Web三维地图应用中可以与Cesium.js等库和API进行集成使用。CZML还支持导入导出和转换，可以与各种GIS软件和三维建模软件进行兼容和交互。总之，CZML是一种基于JSON格式的地理数据交换标准，用于描述三维场景、模型、传感器和时间等地理信息。CZML可以描述三维模型、图像、传感器等场景要素，并支持时间轴、事件触发、动画效果、相机控制等功能。CZML在Web三维地图应用中广泛应用，可以与Cesium.js等库和API进行集成使用，也可以与各种GIS软件和三维建模软件进行兼容和交互。
        > 
- 三维模型
    - `GLTF`
        
        > GLTF（全称为GL Transmission Format）是一种基于JSON格式的开放标准，用于描述三维模型和场景等图形数据。GLTF格式支持纹理、动画、材质和灯光等多种属性，可以实现高质量的三维图形渲染和交互。GLTF格式由Khronos Group领导的工业界联盟开发，已经成为Web三维图形标准的一部分。相比于传统的三维模型格式，如OBJ、FBX、3DS等，GLTF具有更高的性能和可扩展性，可以更加高效地传输和渲染三维图形。GLTF格式的优势在于其采用二进制格式进行存储，可以更快地加载和渲染三维模型，同时支持压缩和分段加载等优化策略，可以提高Web三维应用的用户体验。GLTF格式可以被广泛地应用于Web三维图形、虚拟现实、增强现实、游戏开发等领域。目前已经有众多的三维建模软件和游戏引擎支持GLTF格式，例如Blender、Unity、Unreal Engine、Cesium等。同时，GLTF也得到了各种浏览器和设备的支持，可以在桌面、移动端和VR设备上进行渲染和交互。总之，GLTF是一种基于JSON格式的开放标准，用于描述三维模型和场景等图形数据。GLTF格式支持纹理、动画、材质和灯光等多种属性，可以实现高质量的三维图形渲染和交互。GLTF格式具有更高的性能和可扩展性，可以更加高效地传输和渲染三维图形，目前已经被广泛应用于Web三维图形、虚拟现实、增强现实、游戏开发等领域。
        > 
    - `GLB`
        
        > 是GLTF格式的二进制形式
        > 
- 三维瓦片
    - `3D Tiles`
        
        > *三维瓦片是一种常用的数据格式，它是将三维数据分块、压缩和存储的一种方式，可以大大提高数据的传输效率和渲染速度。三维瓦片是一种分块的数据格式，用于描述三维空间中的模型和场景。在Cesium中，三维瓦片通常是一个由三角形组成的网格模型，包含了模型的几何信息、材质、纹理、法线、透明度、动画等属性。Cesium使用三维瓦片技术来加载和显示三维模型和场景，可以实现高效、快速的数据传输和渲染。Cesium中的三维瓦片通常采用“区域+级别”的方式进行划分和存储，每个区域包含多个级别的瓦片，不同级别的瓦片大小不同，随着级别的增加，瓦片的细节越来越丰富，可以呈现更多的细节信息。Cesium支持多种三维瓦片格式，包括3D Tiles、I3S、B3DM等，每种格式都有其特点和应用场景，可以根据具体的需求选择适合的格式。*
        > 
        - `倾斜摄影`
        - `人工模型`
        - `三维建筑物`
        - `CAD`
        - `BIM`
        - `点云数据`
            
            > 点云数据是一种三维数据表示方式，它由一系列空间中的点组成，每个点都有自己的坐标和一些属性信息，如颜色、法线、强度、分类等。点云数据可以用于描述现实世界中的三维物体或场景，如建筑物、山地、森林、城市等。点云数据通常是通过激光雷达、结构光等技术获取的，它可以直接反映物体或场景的三维形态和细节信息，不需要通过建模等操作。点云数据可以保存为各种格式的文件，如LAS、LAZ、XYZ、PLY等，这些格式支持点的坐标、属性和分类等信息的存储。点云数据在地图制图、遥感、测绘、建筑设计等领域得到广泛应用，它可以为用户提供更加真实、精细的地图和场景展示，为决策、规划和设计提供更加全面、准确的数据支持。同时，随着计算机技术的发展，点云数据的处理和分析也得到了极大的提升，包括点云滤波、配准、拼接、分割、分类等操作，使得点云数据在更多的领域得到了应用和拓展。
            > 

# 3.Cesium能做什么？

- 支持2D，2.5D，3D形式的地理（地图）数据展示
- 可以绘制各种几何图形，高亮区域，支持导入图片，三维模型等
- 可用于动态数据可视化并提供良好的触摸支持，支持绝大多数浏览器和移动端
- 支持基于时间轴的动态流式数据展示

# 4.Cesium有哪些主要类与API，用一句话概述它们的作用

- `Viewer类` - 一切API的入口
- `Camera类` - 想去哪里就去哪里（Cartesian3，Cartographic）
- `ImageryLayer` - 地球原来如此多姿（ImageryProvider）
- `TerrainProvider` - 这才是”真三维“ （sampleTerrain）
- `Entity API` - 与地球交互起来 （DataSource，Scene.pick，property）
- `Cesium3DTileset` - 让场景更细致真实（Cesium3DTileStyle类）
- `Primitive API` - 性能提升第一步（GeometryInstance类，Geometry类）
- `Fabric` - 玩点高级的 （Appearance类，Material类）
- `ParticleSystem` - 锦上添”花“ （Particle类，ParticleEmitter类）